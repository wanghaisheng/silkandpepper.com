---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from "astro:content";
// const allPosts = await Astro.glob('../../pages/blog/*.mdx');
const allPosts = await getCollection("blog");
// have to use data. prefix when referencing data in template with collections
// astro.glob => getCollection is the difference between getting all files from a directory in pages vs. collections
// https://docs.astro.build/en/tutorials/add-content-collections/
// const [firstArticle, ...allArticles] = allPosts;
---

<Layout title="Welcome to Prince Collection" description="About Prince Collection">
		<div class="container-fluid px-0">
			<div class="row pt-5">
				<div class="col-lg-12 d-flex flex-column justify-content-center align-items-center text-center p-5">
                    <span class="badge rounded-pill fw-bold bg-pc-dark-80 text-light py-2 px-3">Where will you go next?</span>
					<h1 class="display-3 fw-bold lh-1 mb-2 mt-3">Your <span class="text-pc-dark">luxury</span> travel concierge</h1>
					<p class="col-md-7 fs-5 text-body-secondary mt-3 mb-4">Prince Collection’s Travel Concierge is designed exclusively for companies and individuals who require exclusive travel arrangements handled for them. Our expertise lies in handling the nuances of travel, ensuring a seamless and extraordinary journey from start to finish.</p>
					<a href="/book">
						<button class="btn btn-pc fw-bold rounded-pill px-4 shadow">Book your hotel</button>
					</a>
				</div>
			</div>
         
            <!-- :class=“{
                ‘style-a’: (index + 1) % 3 !== 0,
                ‘style-b’: (index + 1) % 3 === 0
                }” -->

<!-- referencing data -->
<!-- post.slug for collections : post.url for pages/ -->
<!-- post.data.* for collections -->
<!-- post.frontmatter.* for pages -->


            <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-3 p-4">
                {allPosts.map((post, index) => (
                    <div class="col">
                        <a href={`/blog/${post.slug}/`}>
                            <div class:list={["card rounded-4 border-0 p-2 shadow", (index + 1) % 3 ? (index + 1) % 4 ? 'bg-dutch-white' : 'bg-timberwolf' : 'bg-pc']} style="min-height: 500px">
                                <img src={post.data.imageUrl} class="card-img-top rounded-4 w-100 p-2" style="object-fit: cover;" alt={post.data.imageAlt}>
                                <div class="card-body px-3 pb-0">
                           
                                <h5 class="card-title fs-4 fw-bold mb-0">{post.data.title}</h5>
                                <p class="small m-0 text-secondary mt-2 mb-0">By: {post.data.author}</p>
                                <p class="card-text text-body-secondary pe-5">{post.data.description}</p>
                                <i class="bi bi-arrow-up-right-square text-secondary fs-2 position-absolute bottom-0 end-0 m-3"></i>
                                </div>
                            </div>
                        </a>
                    </div>
                ))}
            </div>
        </div>
</Layout>
        
<style>

    .grid {
  display: grid;
  padding: 20px;
  /* grid-template-columns: repeat(auto-fill, minmax(300px,  1fr)); */
  /* grid-template-columns: 1fr  1fr 2fr; */
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  grid-template-columns: repeat(4, 1fr);
  gap: 30px;
}
/* .masonry {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    grid-template-rows: masonry;
    gap: 30px;
} */
    </style>